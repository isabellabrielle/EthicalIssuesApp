<!DOCTYPE html>
<html lang="en">
  <head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>




    </head>
    <body>
    
    <ul>
      <link rel="stylesheet" href="index.css">
      <li><a href="./howToUse.html">How To Use</a></li>
      <li><a href="./aboutUs.html">About Us</a></li>
      <li><a class="active" href="./index.html">Home</a></li>
    </ul>


  <body>
  
  <div class="title">  
    <h3>Ethics Answer Generator</h3>
  </div>


  <div class="questionContainer">
    <form onsubmit="return false;">
    <div class="questionText">
      <label for="question">Question:</label>
    </div>  
      <input type="text" id="question" name="question" placeholder="Input Your Ethical Question...">
        <div class="container">
          <button class="button forButton" id="for">For</button>
          <button class="button neutralButton" id="neutral">Neutral</button>
          <button class="button againstButton" id="against">Against</button>
        </div>

        <script>
        console.log("loaded");
        document.addEventListener('DOMContentLoaded', (event) => {
          document.getElementById('for').addEventListener('click', function() {
            console.log("button pressed");
            sendMessage("for");
          });
          document.getElementById('neutral').addEventListener('click', function() {
            sendMessage("neutral");
            console.log("button pressed");
          });
          document.getElementById('against').addEventListener('click', function() {
            sendMessage("against");
            console.log("button pressed");
          });
          async function sendMessage(option) {
            message = document.getElementById('question').value;
            console.log(message);
            let formData = new FormData();
            message = message + " [user is " + option + " the topic]";
            formData.append('message', message)
            await fetch('http://localhost:8080/question', {
              method: 'POST',
              body: formData
            })
            .then(response => {
              if(!response.ok){
                throw new Error('NOT OK');
              }
              return response.json()})
            .then(data=> console.log(data))
            .catch(error => console.error('Error:', error));
            
          }
        });
        </script>

        <p id="Response">hello</p>

        <script>
          //Select button by id
          const forButton = document.getElementById('for');
          //Add on click listener for button
          forButton.addEventListener('click', function() {
              //Select (h1) heading by id, and then change it's value to (bananas)
              document.getElementById('Response').innerText = "For Response Answer"
              })
        </script>

        <script>
          //Select button by id
          const neutralButton = document.getElementById('neutral');
          //Add on click listener for button
          neutralButton.addEventListener('click', function() {
              //Select (h1) heading by id, and then change it's value to (bananas)
              document.getElementById('Response').innerText = "Neutral Response Answer"
              })
        </script>

        <script>
          //Select button by id
          const againstButton = document.getElementById('against');
          //Add on click listener for button
          againstButton.addEventListener('click', function() {
              //Select (h1) heading by id, and then change it's value to (bananas)
              document.getElementById('Response').innerText = "Against Response Answer"
              })
        </script>
        

    </form>
  </div>





  </body>
</html>
